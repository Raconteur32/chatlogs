package fr.raconteur.chatlogs.backup.mixin;

import org.spongepowered.asm.mixin.Mixin;
import org.spongepowered.asm.mixin.injection.Constant;
import org.spongepowered.asm.mixin.injection.ModifyConstant;

import fr.raconteur.chatlogs.backup.config.Options;
import net.minecraft.client.gui.hud.ChatHud;

@Mixin(value = ChatHud.class, priority = 408)
public class ChaHudMixin_overrideMaxMessages {
	@ModifyConstant(
			method = { "addMessage(Lnet/minecraft/client/gui/hud/ChatHudLine;)V", 
					"addVisibleMessage(Lnet/minecraft/client/gui/hud/ChatHudLine;)V" }, 
			constant = @Constant(intValue = 100), 
			require = 0
	)
	private int overrideMaxMessages(int initial) {
		return Options.visibleLineCount;
	}
}
